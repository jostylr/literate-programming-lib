Have switch syntax see larger block in command parsing.

Consider a sub of key values that do replacements in order of length, so
subtitle replaces before title. 

Test a file with nothing in it and a file with no headers with a save
directive. It may be the raw directive was a problem, but something was
problematic.